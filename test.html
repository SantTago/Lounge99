<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Videos</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .videos-container {
            display: flex;
            overflow-x: hidden; /* Ocultar barra de rolagem horizontal */
            scroll-snap-type: x mandatory;
            -webkit-overflow-scrolling: touch;
            margin-bottom: 10px;
            position: relative;
        }

        .video {
            scroll-snap-align: start;
            flex-shrink: 0;
            margin-right: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100%;
            position: relative;
        }

        .video video {
            max-width: 100%;
            max-height: 100%;
            margin: auto;
        }

        @media (max-width: 600px) {
            .videos-container {
                flex-wrap: nowrap;
                touch-action: pan-y;
                -webkit-overflow-scrolling: touch;
                overflow-x: scroll;
                overflow-y: hidden;
                white-space: nowrap;
            }

            .video {
                flex: 0 0 auto;
                width: 100%;
                height: auto;
            }

            .navigation-buttons {
                display: flex;
            }
        }

        @media (min-width: 601px) {
            .video {
                display: none;
            }
        }

        .navigation-buttons {
            display: flex;
            justify-content: center;
            position: fixed;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
        }

        @media (min-width: 601px) {
            .navigation-buttons {
                display: none;
            }
        }

        button {
            background-color: blue;
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div class="videos-container">
        <div class="video">
            <video controls>
                <source src="videos/1.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video">
            <video controls>
                <source src="videos/2.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video">
            <video controls>
                <source src="videos/3.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video">
            <video controls>
                <source src="videos/4.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video">
            <video controls>
                <source src="videos/5.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
        <div class="video">
            <video controls>
                <source src="videos/6.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        </div>
    </div>

    <div class="navigation-buttons">
        <button onclick="scrollVideos(-1)">Anterior</button>
        <button onclick="scrollVideos(1)">Pr√≥ximo</button>
    </div>

    <script>
        const videos = document.querySelectorAll('.video video');

        videos.forEach(video => {
            video.addEventListener('play', (event) => {
                videos.forEach(otherVideo => {
                    if (otherVideo !== event.target) {
                        otherVideo.pause();
                    }
                });
            });
        });

        function scrollVideos(direction) {
            const videosContainer = document.querySelector('.videos-container');
            const currentScroll = videosContainer.scrollLeft;
            const videoWidth = videosContainer.querySelector('.video').offsetWidth;
            const targetScroll = currentScroll + (direction * videoWidth);

            videosContainer.scrollTo({
                left: targetScroll,
                behavior: 'smooth'
            });

            setTimeout(checkVisibleVideo, 300); // Tempo de delay para a rolagem suave
        }

        function checkVisibleVideo() {
            const videosContainer = document.querySelector('.videos-container');
            const videoElements = Array.from(videosContainer.querySelectorAll('.video'));
            const middleScreen = videosContainer.scrollLeft + videosContainer.offsetWidth / 2;
            const videoWidth = videoElements[0].offsetWidth;
            
            let visibleVideo;
            videoElements.forEach(videoElement => {
                const videoStart = videoElement.offsetLeft;
                const videoEnd = videoStart + videoWidth;
                if (middleScreen >= videoStart && middleScreen <= videoEnd) {
                    visibleVideo = videoElement.querySelector('video');
                }
            });

            if (visibleVideo) {
                visibleVideo.play();
                videos.forEach(video => {
                    if (video !== visibleVideo) {
                        video.pause();
                    }
                });
            }
        }

        // Detecta quando a rolagem termina
        const videosContainer = document.querySelector('.videos-container');
        let isScrolling;
        videosContainer.addEventListener('scroll', () => {
            window.clearTimeout(isScrolling);
            isScrolling = setTimeout(checkVisibleVideo, 300);
        });

        // Check initial visible video
        checkVisibleVideo();
    </script>
</body>
</html>
